<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phishing Fraud Detection System</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: url('right.jpg') center/cover no-repeat fixed;
      color: #222;
      min-height: 100vh;
      position: relative;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: inherit;
      filter: blur(6px) brightness(0.7);
      z-index: 0;
    }
    .main-content {
      position: relative;
      z-index: 1;
      max-width: 800px;
      margin: 40px auto;
      background: rgba(255,255,255,0.92);
      border-radius: 1.2rem;
      box-shadow: 0 8px 32px rgba(0,0,0,0.12);
      padding: 2.5rem 2rem 2rem 2rem;
    }
    .logo-img {
      width: 70px;
      height: 70px;
      display: block;
      margin: 0 auto 1.2rem auto;
      border-radius: 50%;
      box-shadow: 0 2px 8px rgba(0,0,0,0.12);
      background: #fff;
      object-fit: cover;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.2rem;
      background: transparent;
      margin-bottom: 1.5rem;
    }
    header h1 {
      font-size: 2rem;
      color: #222;
      margin: 0;
      font-weight: bold;
      letter-spacing: 1px;
    }
    .faq {
      margin: 2rem 0 1.5rem 0;
      background: #f7f7f7;
      border-radius: 0.7rem;
      padding: 1.2rem 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    .faq h3 {
      cursor: pointer;
      margin-bottom: 0.3rem;
      color: #ffa500;
      font-size: 1.1rem;
    }
    .faq p {
      display: none;
      padding-left: 10px;
      color: #444;
      margin-bottom: 0.7rem;
    }
    .faq .open p {
      display: block;
    }
    .feedback {
      margin: 2rem 0 1.5rem 0;
      background: #f7f7f7;
      border-radius: 0.7rem;
      padding: 1.2rem 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    .feedback textarea {
      width: 100%;
      height: 100px;
      margin-top: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
      color: #222;
      background: #fff;
    }
    .feedback button {
      padding: 10px 20px;
      background-color: #ffa500;
      color: white;
      border: none;
      border-radius: 5px;
      margin-top: 10px;
      cursor: pointer;
      font-size: 1rem;
    }
    .feedback button:hover {
      background-color: #cc8400;
    }
    .tog-cont {
      position: relative;
      background-color: #077e38;
      width: 2.5rem;
      height: 1.1rem;
      border-radius: 1rem;
      margin: 1.5rem auto 0 auto;
      display: flex;
      align-items: center;
      justify-content: flex-start;
    }
    #toggleDarkMode {
      width: .9rem;
      height: .9rem;
      border-radius: 50%;
      position: absolute;
      top: .1rem;
      left: .2rem;
      background-color: #222;
      border: 1px solid #2c2727;
      transition: left 0.3s, background 0.3s;
    }
    #toggleDarkMode.active {
      background-color: #fff;
      border: 1px solid #eee;
      left: 1.3rem;
    }
    .tog-cont span {
      position: absolute;
      right: -3.2rem;
      top: -.2rem;
      font-size: .8rem;
      background-color: rgb(6, 133, 105);
      padding: .1rem ,3rem;
      color: #fff;
      border-radius: 0.5rem;
    }
    .dark-mode .main-content {
      background: rgba(30,30,30,0.97);
      color: #fff;
    }
    .dark-mode header h1 {
      color: #fff;
    }
    .dark-mode .faq, .dark-mode .feedback {
      background: #232323;
      color: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.12);
    }
    .dark-mode .faq h3 {
      color: #ffa500;
    }
    .dark-mode .faq p, .dark-mode .feedback textarea {
      color: #fff;
      background: #232323;
      border-color: #444;
    }
    .dark-mode .feedback button {
      background-color: #ffa500;
      color: #fff;
    }
    .dark-mode .feedback button:hover {
      background-color: #cc8400;
    }
    .brand-name {
      text-align: center;
      font-size: 1.3rem;
      font-weight: bold;
      color: #ffa500;
      letter-spacing: 0.18em;
      margin-bottom: 0.7rem;
      text-shadow: 0 2px 8px rgba(0,0,0,0.10);
      font-family: 'Segoe UI', Arial, sans-serif;
    }
    @media (max-width: 943px) {
      .main-content {
        padding: 1.2rem 0.5rem 1.2rem 0.5rem;
      }
      .feedback textarea {
        width: 100%;
      }
    }
    @media (max-width: 600px) {
      .main-content {
        margin: 20px 4px;
        padding: 1rem 0.3rem 1rem 0.3rem;
      }
      .logo-img {
        width: 50px;
        height: 50px;
      }
    }
  </style>
</head>
<body>
  <div class="main-content">
    <header>
      <img src="logo.png" alt="Phishing Detection Logo" class="logo-img">
      <div class="brand-name">smshing</div>
      <h1>Phishing Fraud Detection System</h1>
    </header>
    <section>
      <h2>How It Works</h2>
      <p>Simply type or paste an SMS message, click "Analyze," and let our system detect phishing threats!</p>
    </section>
    <section class="faq">
      <h2>Frequently Asked Questions</h2>
      <div>
        <h3>What is phishing?</h3>
        <p>Phishing is a scam where attackers try to steal personal information through fake messages or emails.</p>
      </div>
      <div>
        <h3>How does this system detect phishing?</h3>
        <p>It scans for suspicious keywords and patterns in SMS messages.</p>
      </div>
      <div>
        <h3>What should I do if I detect phishing?</h3>
        <p>Block the sender, avoid clicking links, and report the message to your carrier.</p>
      </div>
    </section>
    <section>
      <h2>Try an Example</h2>
      <button class="analyse-btn" onclick="showExample()">Analyze This: 'Your account has been compromised. Click here to secure it.'</button>
      <p id="exampleResult"></p>
    </section>
    <section class="feedback">
      <h2>We Value Your Feedback</h2>
      <textarea id="feedbackInput" placeholder="Share your thoughts..."></textarea>
      <button onclick="submitFeedback()">Submit Feedback</button>
      <p id="feedbackMessage"></p>
    </section>
    <div class="tog-cont">
      <button id="toggleDarkMode"></button>
      <span>Toggle</span>
    </div>
  </div>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="firebase.js"></script>
  <script src="universal-button-handler.js"></script>
  <script src="complete-button-functions.js"></script>
  <script>
    // Feature 4: Submit Feedback
    async function submitFeedback() {
      const feedbackInput = document.getElementById('feedbackInput').value;
      if (feedbackInput.trim() !== '') {
        try {
          const user = auth.currentUser;
          await db.ref('feedback').push({
            uid: user ? user.uid : null,
            feedback: feedbackInput,
            timestamp: firebase.firestore.FieldValue.serverTimestamp()
          });
          document.getElementById('feedbackMessage').textContent = 'Thank you for your feedback!';
          document.getElementById('feedbackInput').value = '';
        } catch (err) {
          document.getElementById('feedbackMessage').textContent = 'Error submitting feedback.';
        }
      } else {
        document.getElementById('feedbackMessage').textContent = 'Please enter some feedback before submitting.';
      }
    }
    // Feature 6: Toggle Dark Mode
    const mainContent = document.querySelector('.main-content');
    const body = document.body;
    const toggleBtn = document.getElementById('toggleDarkMode');
    function setDarkMode(enabled) {
      if (enabled) {
        body.classList.add('dark-mode');
      } else {
        body.classList.remove('dark-mode');
      }
    }
    // Load preference
    const darkModePreference = localStorage.getItem('darkMode');
    setDarkMode(darkModePreference === 'enabled');
    if (darkModePreference === 'enabled') {
      toggleBtn.classList.add('active');
    }
    toggleBtn.addEventListener('click', () => {
      const isDark = body.classList.toggle('dark-mode');
      toggleBtn.classList.toggle('active');
      localStorage.setItem('darkMode', isDark ? 'enabled' : 'disabled');
    });
  </script>
</body>
</html>
